
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A structured meta-repository for learning systems engineering, embedded Linux, and infrastructure automation">
      
      
        <meta name="author" content="Jofralso">
      
      
        <link rel="canonical" href="https://jofralso.github.io/hitchhikers-guide-to-developing/labs/yocto/lab15-yocto-custom-machine/">
      
      
        <link rel="prev" href="../lab14-yocto-extend-recipe/">
      
      
        <link rel="next" href="../lab16-yocto-custom-image/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Lab 15 - Custom Machine - The Hitchhiker's Guide to Developing</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-15-custom-machine-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The Hitchhiker&#39;s Guide to Developing" class="md-header__button md-logo" aria-label="The Hitchhiker's Guide to Developing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Hitchhiker's Guide to Developing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 15 - Custom Machine
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Jofralso/hitchhikers-guide-to-developing" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Jofralso/hitchhikers-guide-to-developing
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../QUICK_START/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../embedded-linux/" class="md-tabs__link">
          
  
  
  Labs

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../THE-JOURNEY/" class="md-tabs__link">
        
  
  
    
  
  The Journey

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../ROADMAP/" class="md-tabs__link">
        
  
  
    
  
  Roadmap

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../ARCHITECTURE/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../BIBLIOGRAPHY/" class="md-tabs__link">
        
  
  
    
  
  Bibliography

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../submodules/index.md" class="md-tabs__link">
          
  
  
  Submodules

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../templates/lab-template/" class="md-tabs__link">
          
  
  
  Templates

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../standards/documentation-standards/" class="md-tabs__link">
          
  
  
  Standards

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../CONTRIBUTING/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The Hitchhiker&#39;s Guide to Developing" class="md-nav__button md-logo" aria-label="The Hitchhiker's Guide to Developing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The Hitchhiker's Guide to Developing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Jofralso/hitchhikers-guide-to-developing" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Jofralso/hitchhikers-guide-to-developing
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../QUICK_START/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BEAGLEPLAY_SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BeaglePlay Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LAB_STRUCTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Labs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Labs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Embedded Linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Embedded Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab01-toolchain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 1 - Toolchain
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab02-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 2 - Hardware Discovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab03-bootloader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 3 - U-Boot Bootloader
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab04-kernel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 4 - Linux Kernel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab05-rootfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 5 - Root Filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab06-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 6 - Hardware Devices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab07-block-filesystems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 7 - Block Filesystems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab08-buildroot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 8 - Buildroot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embedded-linux/lab09-application-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 9 - App Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Yocto Project
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Yocto Project
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab10-yocto-first-build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 10 - First Yocto Build
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab11-yocto-advanced-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 11 - Advanced Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab12-yocto-custom-app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 12 - Custom Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab13-yocto-custom-layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 13 - Custom Layer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab14-yocto-extend-recipe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 14 - Extend Recipe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Lab 15 - Custom Machine
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 15 - Custom Machine
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dont-panic" class="md-nav__link">
    <span class="md-ellipsis">
      
        DON'T PANIC
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-understanding-machine-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Understanding Machine Configurations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Understanding Machine Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-what-is-a-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 What is a Machine?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-machine-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Machine File Location
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creating-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Creating Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Creating Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-create-machine-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Create Machine Config File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-basic-machine-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Basic Machine Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-understanding-each-section" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Understanding Each Section
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-r5-multi-config-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. R5 Multi-Config Support
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. R5 Multi-Config Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-why-r5-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Why R5 Configuration?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-create-r5-machine-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Create R5 Machine Config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-using-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Using Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Using Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-update-build-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Update Build Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-clean-and-rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Clean and Rebuild
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-verify-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Verify Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-advanced-machine-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Advanced Machine Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Advanced Machine Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-add-machine-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Add Machine Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-storage-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Storage Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-kernel-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Kernel Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-creating-wks-partition-layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Creating WKS Partition Layout
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Creating WKS Partition Layout">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-custom-partition-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Custom Partition Table
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-reference-in-machine-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Reference in Machine Config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-machine-specific-overrides" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Machine-Specific Overrides
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Machine-Specific Overrides">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-conditional-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Conditional Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-multi-machine-recipes" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Multi-Machine Recipes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-testing-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Testing Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Testing Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-build-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Build Verification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-flash-and-boot" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Flash and Boot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-going-further" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Going Further
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Going Further">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-machine-include-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Machine Include Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-multiple-machine-variants" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Multiple Machine Variants
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Key Takeaways
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-verification-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Verification Checklist
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab16-yocto-custom-image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 16 - Custom Image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab17-yocto-app-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 17 - SDK Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab18-yocto-devtool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 18 - Devtool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Debugging
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Debugging
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab19-system-monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 19 - System Monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab20-gdb-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 20 - GDB Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab21-strace-ltrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 21 - strace/ltrace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab22-valgrind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 22 - Valgrind
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab23-perf-ftrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 23 - perf & ftrace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab24-ebpf-bcc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 24 - eBPF & BCC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab25-kernel-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 25 - Kernel Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/lab26-kdump-kexec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 26 - kdump & kexec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../THE-JOURNEY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Journey
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ROADMAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BIBLIOGRAPHY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bibliography
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Submodules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Submodules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../submodules/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Templates
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Templates
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../templates/lab-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Template
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../templates/research-note/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Research Note
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../templates/technical-procedure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Procedure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Standards
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Standards
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../standards/documentation-standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dont-panic" class="md-nav__link">
    <span class="md-ellipsis">
      
        DON'T PANIC
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-understanding-machine-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Understanding Machine Configurations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Understanding Machine Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-what-is-a-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 What is a Machine?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-machine-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Machine File Location
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creating-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Creating Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Creating Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-create-machine-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Create Machine Config File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-basic-machine-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Basic Machine Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-understanding-each-section" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Understanding Each Section
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-r5-multi-config-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. R5 Multi-Config Support
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. R5 Multi-Config Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-why-r5-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Why R5 Configuration?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-create-r5-machine-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Create R5 Machine Config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-using-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Using Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Using Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-update-build-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Update Build Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-clean-and-rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Clean and Rebuild
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-verify-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Verify Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-advanced-machine-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Advanced Machine Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Advanced Machine Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-add-machine-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Add Machine Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-storage-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Storage Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-kernel-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Kernel Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-creating-wks-partition-layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Creating WKS Partition Layout
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Creating WKS Partition Layout">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-custom-partition-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Custom Partition Table
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-reference-in-machine-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Reference in Machine Config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-machine-specific-overrides" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Machine-Specific Overrides
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Machine-Specific Overrides">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-conditional-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Conditional Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-multi-machine-recipes" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Multi-Machine Recipes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-testing-custom-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Testing Custom Machine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Testing Custom Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-build-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Build Verification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-flash-and-boot" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Flash and Boot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-going-further" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Going Further
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Going Further">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-machine-include-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Machine Include Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-multiple-machine-variants" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Multiple Machine Variants
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Key Takeaways
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-verification-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Verification Checklist
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="lab-15-custom-machine-configuration">Lab 15: Custom Machine Configuration<a class="headerlink" href="#lab-15-custom-machine-configuration" title="Permanent link">&para;</a></h1>
<h2 id="dont-panic">DON'T PANIC<a class="headerlink" href="#dont-panic" title="Permanent link">&para;</a></h2>
<p>The Hitchhiker's Guide to Embedded Linux has this to say about debugging:</p>
<p><em>"Debugging is the art of figuring out why your code doesn't work, as opposed to why you thought it would work. This is similar to the difference between what Deep Thought calculated (42) and what everyone expected (a useful answer). Both are technically correct, but only one is helpful."</em></p>
<h2 id="objectives">Objectives<a class="headerlink" href="#objectives" title="Permanent link">&para;</a></h2>
<p>Create custom machine configurations to define hardware-specific settings, bootloader parameters, and kernel configurations for your target platform.</p>
<p><strong>What You'll Learn:</strong>
- Machine configuration file structure
- SoC family includes
- Bootloader and kernel provider selection
- Device Tree specification
- Serial console configuration
- Multi-config for R5 bootloader</p>
<p><strong>Time Required:</strong> 1-2 hours</p>
<hr />
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p><strong>Completed Labs:</strong>
- Lab 13: Custom Yocto Layer
- Lab 14: Recipe Extension</p>
<hr />
<h2 id="1-understanding-machine-configurations">1. Understanding Machine Configurations<a class="headerlink" href="#1-understanding-machine-configurations" title="Permanent link">&para;</a></h2>
<h3 id="11-what-is-a-machine">1.1 What is a Machine?<a class="headerlink" href="#11-what-is-a-machine" title="Permanent link">&para;</a></h3>
<p><strong>Machine</strong> = Hardware platform definition</p>
<p><strong>Includes:</strong>
- CPU architecture
- Bootloader settings
- Kernel configuration
- Device Tree files
- Serial console parameters</p>
<p><strong>Example machines:</strong>
- <code>beagleplay</code>: BeaglePlay board
- <code>qemux86-64</code>: QEMU x86_64
- <code>raspberrypi4</code>: Raspberry Pi 4</p>
<h3 id="12-machine-file-location">1.2 Machine File Location<a class="headerlink" href="#12-machine-file-location" title="Permanent link">&para;</a></h3>
<p><strong>Standard path:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>meta-&lt;layer&gt;/conf/machine/&lt;machine-name&gt;.conf
</code></pre></div></p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>meta-ti/conf/machine/beagleplay.conf
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>meta-beagleplay/conf/machine/beagleplay-custom.conf
</code></pre></div></p>
<hr />
<h2 id="2-creating-custom-machine">2. Creating Custom Machine<a class="headerlink" href="#2-creating-custom-machine" title="Permanent link">&para;</a></h2>
<h3 id="21-create-machine-config-file">2.1 Create Machine Config File<a class="headerlink" href="#21-create-machine-config-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span>~/yocto-labs/meta-beagleplay
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>conf/machine
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>nano<span class="w"> </span>conf/machine/beagleplay-custom.conf
</code></pre></div>
<h3 id="22-basic-machine-structure">2.2 Basic Machine Structure<a class="headerlink" href="#22-basic-machine-structure" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">#@TYPE: Machine</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">#@NAME: BeaglePlay Custom</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1">#@DESCRIPTION: Custom BeaglePlay machine configuration</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Include TI K3 SoC family settings</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">k3</span><span class="o">.</span><span class="n">inc</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">mc_k3r5</span><span class="o">.</span><span class="n">inc</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># SoC family</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="n">SOC_FAMILY</span><span class="p">:</span><span class="n">append</span> <span class="o">=</span> <span class="s2">&quot;:am62xx&quot;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="c1"># Serial console</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="n">SERIAL_CONSOLES</span> <span class="o">=</span> <span class="s2">&quot;115200;ttyS2&quot;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="c1"># Kernel provider</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="n">PREFERRED_PROVIDER_virtual</span><span class="o">/</span><span class="n">kernel</span> <span class="o">=</span> <span class="s2">&quot;linux-ti-staging&quot;</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="n">KERNEL_DEVICETREE</span> <span class="o">=</span> <span class="s2">&quot;ti/k3-am625-beagleplay.dtb&quot;</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="c1"># Bootloader provider</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="n">PREFERRED_PROVIDER_virtual</span><span class="o">/</span><span class="n">bootloader</span> <span class="o">=</span> <span class="s2">&quot;u-boot-ti-staging&quot;</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="n">PREFERRED_PROVIDER_u</span><span class="o">-</span><span class="n">boot</span> <span class="o">=</span> <span class="s2">&quot;u-boot-ti-staging&quot;</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="c1"># U-Boot configuration</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="n">UBOOT_MACHINE</span> <span class="o">=</span> <span class="s2">&quot;am62x_beagleplay_a53_defconfig&quot;</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="c1"># TI-specific settings</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="n">TFA_BOARD</span> <span class="o">=</span> <span class="s2">&quot;lite&quot;</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="n">TFA_K3_SYSTEM_SUSPEND</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="n">OPTEEMACHINE</span> <span class="o">=</span> <span class="s2">&quot;k3-am62x&quot;</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="c1"># Boot method (extlinux)</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">extlinux</span><span class="o">-</span><span class="n">bb</span><span class="o">.</span><span class="n">inc</span>
</code></pre></div>
<h3 id="23-understanding-each-section">2.3 Understanding Each Section<a class="headerlink" href="#23-understanding-each-section" title="Permanent link">&para;</a></h3>
<p><strong>SoC Family:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">k3</span><span class="o">.</span><span class="n">inc</span>
</code></pre></div>
Inherits ARM64 TI K3 platform defaults.</p>
<p><strong>Serial Console:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">SERIAL_CONSOLES</span> <span class="o">=</span> <span class="s2">&quot;115200;ttyS2&quot;</span>
</code></pre></div>
Format: <code>"baudrate;device"</code></p>
<p><strong>Kernel:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">PREFERRED_PROVIDER_virtual</span><span class="o">/</span><span class="n">kernel</span> <span class="o">=</span> <span class="s2">&quot;linux-ti-staging&quot;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">KERNEL_DEVICETREE</span> <span class="o">=</span> <span class="s2">&quot;ti/k3-am625-beagleplay.dtb&quot;</span>
</code></pre></div>
Selects TI kernel and Device Tree blob.</p>
<p><strong>Bootloader:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">UBOOT_MACHINE</span> <span class="o">=</span> <span class="s2">&quot;am62x_beagleplay_a53_defconfig&quot;</span>
</code></pre></div>
U-Boot defconfig for Cortex-A53.</p>
<hr />
<h2 id="3-r5-multi-config-support">3. R5 Multi-Config Support<a class="headerlink" href="#3-r5-multi-config-support" title="Permanent link">&para;</a></h2>
<h3 id="31-why-r5-configuration">3.1 Why R5 Configuration?<a class="headerlink" href="#31-why-r5-configuration" title="Permanent link">&para;</a></h3>
<p><strong>BeaglePlay boot sequence:</strong>
1. <strong>ROM code</strong> loads R5 SPL (tiboot3.bin)
2. <strong>R5 SPL</strong> loads TF-A + A53 SPL (tispl.bin)
3. <strong>A53 SPL</strong> loads U-Boot proper (u-boot.img)
4. <strong>U-Boot</strong> boots Linux kernel</p>
<p><strong>R5 is ARM Cortex-R5</strong> (different architecture from A53)  needs separate machine config.</p>
<h3 id="32-create-r5-machine-config">3.2 Create R5 Machine Config<a class="headerlink" href="#32-create-r5-machine-config" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>nano<span class="w"> </span>conf/machine/beagleplay-custom-k3r5.conf
</code></pre></div>
<p><strong>Content:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">#@TYPE: Machine</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">#@NAME: BeaglePlay Custom R5</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">#@DESCRIPTION: R5 bootloader configuration for BeaglePlay Custom</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">k3r5</span><span class="o">.</span><span class="n">inc</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># System firmware</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">SYSFW_SOC</span> <span class="o">=</span> <span class="s2">&quot;am62x&quot;</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="n">SYSFW_CONFIG</span> <span class="o">=</span> <span class="s2">&quot;evm&quot;</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">SYSFW_SUFFIX</span> <span class="o">=</span> <span class="s2">&quot;gp&quot;</span>  <span class="c1"># General Purpose (not High Security)</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="c1"># U-Boot R5 defconfig</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="n">UBOOT_MACHINE</span> <span class="o">=</span> <span class="s2">&quot;am62x_beagleplay_r5_defconfig&quot;</span>
</code></pre></div></p>
<p><strong>Naming convention:</strong> <code>&lt;machine&gt;-k3r5.conf</code></p>
<hr />
<h2 id="4-using-custom-machine">4. Using Custom Machine<a class="headerlink" href="#4-using-custom-machine" title="Permanent link">&para;</a></h2>
<h3 id="41-update-build-configuration">4.1 Update Build Configuration<a class="headerlink" href="#41-update-build-configuration" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">cd</span><span class="w"> </span>~/yocto-labs/build
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>nano<span class="w"> </span>conf/local.conf
</code></pre></div>
<p><strong>Change MACHINE:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Old:</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1"># MACHINE = &quot;beagleplay&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># New:</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">MACHINE</span> <span class="o">=</span> <span class="s2">&quot;beagleplay-custom&quot;</span>
</code></pre></div></p>
<h3 id="42-clean-and-rebuild">4.2 Clean and Rebuild<a class="headerlink" href="#42-clean-and-rebuild" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>bitbake<span class="w"> </span>-c<span class="w"> </span>cleanall<span class="w"> </span>core-image-minimal
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>bitbake<span class="w"> </span>core-image-minimal
</code></pre></div>
<p><strong>Full rebuild required</strong> (different machine).</p>
<h3 id="43-verify-output">4.3 Verify Output<a class="headerlink" href="#43-verify-output" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>ls<span class="w"> </span>tmp/deploy/images/beagleplay-custom/
</code></pre></div>
<p><strong>Should contain:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>Image-beagleplay-custom.bin
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>k3-am625-beagleplay.dtb
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>tiboot3.bin
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>tispl.bin
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>u-boot.img
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>core-image-minimal-beagleplay-custom.rootfs.tar.xz
</code></pre></div></p>
<hr />
<h2 id="5-advanced-machine-configuration">5. Advanced Machine Configuration<a class="headerlink" href="#5-advanced-machine-configuration" title="Permanent link">&para;</a></h2>
<h3 id="51-add-machine-features">5.1 Add Machine Features<a class="headerlink" href="#51-add-machine-features" title="Permanent link">&para;</a></h3>
<p><strong>Edit machine config:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Machine features</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">MACHINE_FEATURES</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="s2">    ext2 </span><span class="se">\</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="s2">    usbhost </span><span class="se">\</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="s2">    usbgadget </span><span class="se">\</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="s2">    ethernet </span><span class="se">\</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="s2">    wifi </span><span class="se">\</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="s2">    bluetooth </span><span class="se">\</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="s2">    alsa </span><span class="se">\</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>Features control:</strong>
- Package selection
- Kernel modules
- Image capabilities</p>
<h3 id="52-storage-configuration">5.2 Storage Configuration<a class="headerlink" href="#52-storage-configuration" title="Permanent link">&para;</a></h3>
<p><strong>SD card / eMMC:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># WIC image settings</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">WKS_FILE</span> <span class="o">=</span> <span class="s2">&quot;beagleplay-custom.wks&quot;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="n">IMAGE_FSTYPES</span> <span class="o">=</span> <span class="s2">&quot;tar.xz wic.xz&quot;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">IMAGE_BOOT_FILES</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="s2">    Image </span><span class="se">\</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="s2">    k3-am625-beagleplay.dtb </span><span class="se">\</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="s2">    tiboot3.bin </span><span class="se">\</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="s2">    tispl.bin </span><span class="se">\</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="s2">    u-boot.img </span><span class="se">\</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="s2">&quot;</span>
</code></pre></div></p>
<h3 id="53-kernel-configuration">5.3 Kernel Configuration<a class="headerlink" href="#53-kernel-configuration" title="Permanent link">&para;</a></h3>
<p><strong>Default kernel config:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">KERNEL_DEFCONFIG</span> <span class="o">=</span> <span class="s2">&quot;defconfig&quot;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">KERNEL_CONFIG_FRAGMENTS</span> <span class="o">=</span> <span class="s2">&quot;beagleplay-custom.cfg&quot;</span>
</code></pre></div></p>
<p><strong>Extra kernel modules:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">KERNEL_MODULE_AUTOLOAD</span> <span class="o">+=</span> <span class="s2">&quot;nunchuk&quot;</span>
</code></pre></div></p>
<hr />
<h2 id="6-creating-wks-partition-layout">6. Creating WKS Partition Layout<a class="headerlink" href="#6-creating-wks-partition-layout" title="Permanent link">&para;</a></h2>
<h3 id="61-custom-partition-table">6.1 Custom Partition Table<a class="headerlink" href="#61-custom-partition-table" title="Permanent link">&para;</a></h3>
<p><strong>Create WKS file:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>~/yocto-labs/meta-beagleplay/wic
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>nano<span class="w"> </span>~/yocto-labs/meta-beagleplay/wic/beagleplay-custom.wks
</code></pre></div></p>
<p><strong>Content:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a># BeaglePlay Custom partition layout
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>part /boot --source bootimg-partition --ondisk mmcblk0 --fstype=vfat --label boot --active --align 4096 --size 128M
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>part / --source rootfs --ondisk mmcblk0 --fstype=ext4 --label rootfs --align 4096 --size 2G
</code></pre></div></p>
<p><strong>Explanation:</strong>
- <code>part /boot</code>: FAT32 boot partition (128MB)
- <code>part /</code>: ext4 root filesystem (2GB)
- <code>--ondisk mmcblk0</code>: SD card device
- <code>--align 4096</code>: 4KB alignment</p>
<h3 id="62-reference-in-machine-config">6.2 Reference in Machine Config<a class="headerlink" href="#62-reference-in-machine-config" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">WKS_FILE</span> <span class="o">=</span> <span class="s2">&quot;beagleplay-custom.wks&quot;</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">WKS_FILE_DEPENDS</span> <span class="o">=</span> <span class="s2">&quot;virtual/kernel u-boot-ti-staging&quot;</span>
</code></pre></div>
<hr />
<h2 id="7-machine-specific-overrides">7. Machine-Specific Overrides<a class="headerlink" href="#7-machine-specific-overrides" title="Permanent link">&para;</a></h2>
<h3 id="71-conditional-variables">7.1 Conditional Variables<a class="headerlink" href="#71-conditional-variables" title="Permanent link">&para;</a></h3>
<p><strong>Syntax:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">VARIABLE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">machine</span><span class="o">&gt;</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">VARIABLE</span><span class="p">:</span><span class="n">append</span><span class="p">:</span><span class="o">&lt;</span><span class="n">machine</span><span class="o">&gt;</span> <span class="o">=</span> <span class="s2">&quot; extra&quot;</span>
</code></pre></div></p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Different kernel for custom machine</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">PREFERRED_VERSION_linux</span><span class="o">-</span><span class="n">ti</span><span class="o">-</span><span class="n">staging</span><span class="p">:</span><span class="n">beagleplay</span><span class="o">-</span><span class="n">custom</span> <span class="o">=</span> <span class="s2">&quot;6.6.%&quot;</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1"># Extra packages for custom machine</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="n">IMAGE_INSTALL</span><span class="p">:</span><span class="n">append</span><span class="p">:</span><span class="n">beagleplay</span><span class="o">-</span><span class="n">custom</span> <span class="o">=</span> <span class="s2">&quot; custom-app&quot;</span>
</code></pre></div></p>
<h3 id="72-multi-machine-recipes">7.2 Multi-Machine Recipes<a class="headerlink" href="#72-multi-machine-recipes" title="Permanent link">&para;</a></h3>
<p><strong>Recipe can check machine:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">do_install</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    <span class="k">if</span> <span class="p">[</span> <span class="s2">&quot;$</span><span class="si">{MACHINE}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;beagleplay-custom&quot;</span> <span class="p">];</span> <span class="n">then</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>        <span class="n">install</span> <span class="o">-</span><span class="n">m</span> <span class="mi">0644</span> <span class="n">custom</span><span class="o">-</span><span class="n">config</span> <span class="err">$</span><span class="p">{</span><span class="n">D</span><span class="p">}</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="n">fi</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="p">}</span>
</code></pre></div></p>
<hr />
<h2 id="8-testing-custom-machine">8. Testing Custom Machine<a class="headerlink" href="#8-testing-custom-machine" title="Permanent link">&para;</a></h2>
<h3 id="81-build-verification">8.1 Build Verification<a class="headerlink" href="#81-build-verification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>bitbake<span class="w"> </span>core-image-minimal
</code></pre></div>
<p><strong>Check variables:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>bitbake<span class="w"> </span>-e<span class="w"> </span>core-image-minimal<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;^MACHINE=&quot;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="c1"># Output: MACHINE=&quot;beagleplay-custom&quot;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>bitbake<span class="w"> </span>-e<span class="w"> </span>core-image-minimal<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;^SERIAL_CONSOLES=&quot;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="c1"># Output: SERIAL_CONSOLES=&quot;115200;ttyS2&quot;</span>
</code></pre></div></p>
<h3 id="82-flash-and-boot">8.2 Flash and Boot<a class="headerlink" href="#82-flash-and-boot" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nb">cd</span><span class="w"> </span>tmp/deploy/images/beagleplay-custom
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>xz<span class="w"> </span>-dc<span class="w"> </span>core-image-minimal-beagleplay-custom.rootfs.wic.xz<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span>sudo<span class="w"> </span>dd<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/sdb<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>4M<span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress<span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fdatasync
</code></pre></div>
<p><strong>Boot BeaglePlay from SD card.</strong></p>
<p><strong>Verify in boot logs:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>U-Boot 2023.04 (Nov 20 2024)
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>Model: BeagleBoard.org BeaglePlay
</code></pre></div></p>
<hr />
<h2 id="9-going-further">9. Going Further<a class="headerlink" href="#9-going-further" title="Permanent link">&para;</a></h2>
<h3 id="91-machine-include-files">9.1 Machine Include Files<a class="headerlink" href="#91-machine-include-files" title="Permanent link">&para;</a></h3>
<p><strong>Create reusable includes:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>nano<span class="w"> </span>conf/machine/include/beagleplay-common.inc
</code></pre></div></p>
<p><strong>Content:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Common settings for all BeaglePlay variants</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="n">SOC_FAMILY</span><span class="p">:</span><span class="n">append</span> <span class="o">=</span> <span class="s2">&quot;:am62xx&quot;</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="n">SERIAL_CONSOLES</span> <span class="o">=</span> <span class="s2">&quot;115200;ttyS2&quot;</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="n">PREFERRED_PROVIDER_virtual</span><span class="o">/</span><span class="n">kernel</span> <span class="o">=</span> <span class="s2">&quot;linux-ti-staging&quot;</span>
</code></pre></div></p>
<p><strong>Use in machine configs:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">require</span> <span class="n">conf</span><span class="o">/</span><span class="n">machine</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">beagleplay</span><span class="o">-</span><span class="n">common</span><span class="o">.</span><span class="n">inc</span>
</code></pre></div></p>
<h3 id="92-multiple-machine-variants">9.2 Multiple Machine Variants<a class="headerlink" href="#92-multiple-machine-variants" title="Permanent link">&para;</a></h3>
<p><strong>Create family of machines:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>conf/machine/
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a> beagleplay-minimal.conf    # Minimal features
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a> beagleplay-dev.conf        # Development tools
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a> beagleplay-production.conf # Production config
</code></pre></div></p>
<hr />
<h2 id="10-key-takeaways">10. Key Takeaways<a class="headerlink" href="#10-key-takeaways" title="Permanent link">&para;</a></h2>
<p><strong>Accomplished:</strong>
1.  Created custom machine configuration
2.  Configured R5 multi-config support
3.  Defined custom partition layout
4.  Built and tested custom machine</p>
<p><strong>Skills Gained:</strong>
- Machine configuration structure
- SoC family includes
- Multi-architecture support
- WKS partition definitions</p>
<p><strong>Next Steps:</strong>
- <strong>Lab 16</strong>: Create custom distribution images
- <strong>Lab 17</strong>: SDK development workflow</p>
<hr />
<h2 id="11-verification-checklist">11. Verification Checklist<a class="headerlink" href="#11-verification-checklist" title="Permanent link">&para;</a></h2>
<ul>
<li>[ ] <code>beagleplay-custom.conf</code> created</li>
<li>[ ] R5 config <code>beagleplay-custom-k3r5.conf</code> created</li>
<li>[ ] Build succeeds with MACHINE="beagleplay-custom"</li>
<li>[ ] Images appear in <code>tmp/deploy/images/beagleplay-custom/</code></li>
<li>[ ] SD card boots successfully</li>
<li>[ ] Serial console works on ttyS2</li>
</ul>
<hr />
<p><strong>End of Lab 15</strong></p>
<p><em>The Guide rates this lab: </em><em>Mostly Harmless</em><em> </em></p>
<p>Custom machine configurations enable you to define precise hardware-specific settings, manage multiple board variants, and maintain clean separation between different product configurations.</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 30, 2026 15:44:01 UTC">January 30, 2026</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 30, 2026 15:44:01 UTC">January 30, 2026</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Jofralso. Licensed under MIT.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Jofralso" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://buymeacoffee.com/jofralso" target="_blank" rel="noopener" title="Buy Me A Coffee" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M152-16c-13.3 0-24 10.7-24 24 0 38.9 23.4 59.4 39.1 73.1l1.1 1C184.5 96.4 192 103.9 192 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C183.5 31.7 176 24.1 176 8c0-13.3-10.7-24-24-24M96 192c-17.7 0-32 14.3-32 32v192c0 53 43 96 96 96h192c41.8 0 77.4-26.7 90.5-64h5.5c70.7 0 128-57.3 128-128s-57.3-128-128-128zm352 192V256c35.3 0 64 28.7 64 64s-28.7 64-64 64M288 8c0-13.3-10.7-24-24-24S240-5.3 240 8c0 38.9 23.4 59.4 39.1 73.1l1.1 1C296.5 96.4 304 103.9 304 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C295.5 31.7 288 24.1 288 8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>